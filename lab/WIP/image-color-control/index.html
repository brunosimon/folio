<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Image color control</title>
</head>
<body>
    <canvas id="canvas" width="1024" height="527"></canvas>
    <script src="src/js/dat.gui.min.js"></script>
    <script src="src/js/stats.min.js"></script>
    <script src="src/js/request-animation-frame.js"></script>
    <script src="src/js/underscore.js"></script>
    <script src="src/js/class.class.js"></script>
    <script src="src/js/abstract.class.js"></script>
    <script src="src/js/app.class.js"></script>
    <script type="text/javascript">

        var app   = null,
            gui   = null,
            stats = null;

        //App
        app = new App(null,{canvas:document.getElementById('canvas')});

        //Gui
        gui = new dat.GUI();
        var f1 = gui.addFolder('Image');
        f1.add(app.options,'image',['image-1.jpg','image-2.jpg','image-3.jpg','image-4.jpg']);
        f1.add(app.options,'darkness',-50,50);
        var f2 = gui.addFolder('Coloration');
        f2.add(app.options,'hue',0,360);
        f2.add(app.options,'saturation',0,100);
        f2.add(app.options,'lightness',0,100);
        f2.add(app.options,'intensity',0,1);

        f1.__controllers[0].onChange(function(value)
        {
            app.load_image(function()
            {
                app.set_image();
            });
        });
        f1.__controllers[1].onChange(function(value)
        {
            app.set_image();
        });
        f2.__controllers[0].onChange(function(value)
        {
            app.set_image();
        });
        f2.__controllers[1].onChange(function(value)
        {
            app.set_image();
        });
        f2.__controllers[2].onChange(function(value)
        {
            app.set_image();
        });
        f2.__controllers[3].onChange(function(value)
        {
            app.set_image();
        });

        //Stats
        stats = new Stats();
        stats.setMode(0);

        stats.domElement.style.position = 'absolute';
        stats.domElement.style.right    = '15px';
        stats.domElement.style.bottom   = '0px';

        document.body.appendChild(stats.domElement);

    </script>
</body>
</html>